<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz</title>
  <style>
    html, body {height:100%;margin:0;padding:0;}
    body {
      font-family:'Segoe UI',sans-serif;
      display:flex;flex-direction:column;justify-content:space-between;align-items:center;
      background:linear-gradient(135deg,#2c003e,#000);
      padding:1rem;box-sizing:border-box;color:#ffe082;
    }
    h2{margin-top:0.5rem;margin-bottom:0.2rem;font-size:2rem;color:#ffca28;}
    h3{margin-top:0.2rem;margin-bottom:1rem;font-size:1.1rem;color:#fff59d;font-weight:normal;}

    .status-bar{
      display:flex;justify-content:space-between;align-items:center;
      width:100%;max-width:400px;margin:0.2rem 0 0.4rem;color:#fff59d;
      font-size:1rem;
    }
    .score{color:#8bc34a;font-weight:600;}
    .progress{color:#ffe082;}

    .card {
  perspective: 1000px;
  width: calc(100% - 2rem);
  max-width: 400px;
  height: 55vh; /* slightly taller to fit longer questions */
  margin-top: 1vh;
  margin-bottom: 1.5rem;
  position: relative;
  overflow-y: auto;          /* allow scroll if text still overflows */
  overflow-x: hidden;
  touch-action: pan-y;
  user-select: none;
  border-radius: 20px;
}
    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.6s ease;
    }
    .card-inner.flipped {
      transform: rotateY(180deg);
      transition: transform 0.6s ease;
    }
    .card-face {
  position: absolute;
  width: 100%;
  height: auto;
  min-height: 100%;
  backface-visibility: hidden;
  background: radial-gradient(circle,#212121,#000);
  border: 2px solid #ffc107;
  border-radius: 20px;
  box-shadow: 0 6px 25px rgba(255,193,7,0.2);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start; /* move text to top */
  padding: 1rem 1.2rem;
  text-align: center;
  font-size: 0.9rem; /* smaller font for longer text */
  line-height: 1.4;
  box-sizing: border-box;
  color: #ffe082;
  overflow-y: auto;
}
    button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      box-shadow: none;
      transform: none !important;
    }

    .card-back{transform:rotateY(180deg);}
    .navigation {
  position: relative; /* ‚úÖ important */
  width: 100%;
  max-width: 320px;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
  margin-bottom: 5vh;
}
.home-btn {
  position: fixed;
  top: 1rem;
  left: 1rem;           /* or left: 1rem; if you prefer */
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid #ffc107;
  color: #ffc107;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 0 10px rgba(255, 193, 7, 0.3);
  transition: background 0.2s ease, transform 0.2s ease;
  z-index: 50;
}
.home-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.05);
}
.home-btn svg {
  width: 22px;
  height: 22px;
  fill: #ffc107;
}


    .next-btn,.prev-btn{transition:transform 0.2s ease,box-shadow 0.2s ease;}
    .next-btn:active,.prev-btn:active{transform:scale(0.96);box-shadow:0 0 12px rgba(255,255,255,0.2);}
    .next-btn {
  width: 100%;
  padding: 0.8rem;
  font-size: 1.1rem;
  border-radius: 10px;
  background: linear-gradient(to right,#d50000,#ff6d00);
  color: white;
  font-weight: bold;
  box-shadow: 0 2px 10px rgba(255,87,34,0.5);
  cursor: pointer;
}
    
    .prev-btn {
  width: 55%;
  margin: 0 auto;
  padding: 0.5rem;
  font-size: 0.9rem;
  border: none;
  border-radius: 8px;
  background: #37474f;
  color: #fff9c4;
  cursor: pointer;
}

    .option-btn{margin:0.3rem 0;padding:0.6rem;width:100%;border-radius:8px;background:#424242;color:#ffe082;border:1px solid #ffc107;cursor:pointer;font-size:1rem;transition:background 0.2s ease;}
    .option-btn:hover{background:#555;}
    #feedbackText.correct{color:#8bc34a;}
    #feedbackText.incorrect{color:#ef5350;}
    #correctAnswerLine {
      margin-top:0.6rem;
      color:#ba68c8;
      opacity:0.95;
      font-size:1rem;
      font-style:italic;
    }
  </style>
</head>
<body>
  <div class="home-btn" onclick="location.href='index.html'">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
  </svg>
</div>

  <h2>Quiz Time</h2>
  <div class="status-bar">
    <span class="progress" id="progressText">Question 1 of 2</span>
    <span class="score" id="scoreText">Score: 0</span>
  </div>


  <div class="card" id="quizCard">
    <div class="card-inner" id="cardInner">
      <div class="card-face card-front">
        <p id="questionText">Loading...</p>
        <div id="optionsContainer"></div>
      </div>
      <div class="card-face card-back">
        <p id="backQuestionText"></p>
        <p id="chosenAnswer"></p>
        <p id="feedbackText"></p>
        <p id="correctAnswerLine" style="display:none;"></p>
      </div>
    </div>
  </div>

  <div class="navigation">
  <button class="next-btn" id="nextBtn">Next ‚Üí</button>
  <button class="next-btn" id="resultsBtn" style="visibility:hidden; position:absolute;">See Results ‚Üí</button>
  <button class="prev-btn" id="prevBtn">‚Üê Back</button>
</div>



  <script>
    const questions=[
      {question:"The Godfather and Godmother are simple two-ingredient cocktails. What almond-flavored liqueur is mixed with Scotch in the Godfather and Vodka in the Godmother?",
options:[
{text:"Amaretto", feedback:"Amaretto is the signature liqueur that, when paired with a base spirit, creates the 'Godparent' family of cocktails."},
{text:"Frangelico", feedback:"While also a nutty liqueur (hazelnut), Frangelico is not the traditional choice for the Godfather or Godmother cocktails."},
{text:"Drambuie", feedback:"Drambuie is a Scotch-based liqueur that is famously mixed with more Scotch to create a Rusty Nail."},
{text:"Kahlua", feedback:"Kahlua is a coffee liqueur, which is paired with vodka to make a Black Russian, not a Godmother."}],
correctIndex:0},
{question:"Which of the following cocktails uniquely combines Gin, Maraschino Liqueur, Lemon Juice, and Creme de Violette for its floral notes and distinct color?",
options:[
{text:"Aviation Cocktail", feedback:"The inclusion of Creme de Violette is the defining characteristic that gives the Aviation its name and pale sky-blue hue."},
{text:"White Lady", feedback:"This cocktail is a simple gin sour, containing Gin, Triple Sec, and Lemon Juice, without the more complex floral liqueurs."},
{text:"Last Word", feedback:"The Last Word shares Gin and Maraschino Liqueur but uses Green Chartreuse and lime juice instead of Creme de Violette and lemon."},
{text:"Martinez", feedback:"A Martinez is a gin-based cocktail that uses Sweet Vermouth and bitters, but not Creme de Violette."}],
correctIndex:0},
{question:"A Boulevardier is often described as a whiskey-based variation of what classic gin cocktail?",
options:[
{text:"Negroni", feedback:"The Boulevardier swaps the Negroni's gin for bourbon or rye whiskey while keeping the Campari and Sweet Vermouth."},
{text:"Martini", feedback:"A Martini consists of gin or vodka and dry vermouth, sharing no ingredients with the Boulevardier except the base category of spirit."},
{text:"Vesper Martini", feedback:"The Vesper is a specific type of martini that combines gin, vodka, and Lillet Blanc, a completely different flavor profile."},
{text:"Manhattan", feedback:"While a Manhattan is also a whiskey cocktail, it uses sweet vermouth and bitters, but lacks the distinctive bitter element of Campari found in a Boulevardier."}],
correctIndex:0},
{question:"What key ingredient distinguishes a Bloody Caesar from a classic Bloody Mary?",
options:[
{text:"Tequila instead of Vodka", feedback:"Using tequila instead of vodka would create a Bloody Maria, not a Bloody Caesar."},
{text:"Clamato Juice", feedback:"The substitution of tomato juice with Clamato juice (a blend of tomato juice and clam broth) is the defining feature of this Canadian cocktail."},
{text:"Tabasco Sauce", feedback:"Both the Bloody Mary and Bloody Caesar typically include Tabasco or another hot sauce for spice."},
{text:"Worcestershire Sauce", feedback:"Worcestershire sauce is a standard ingredient in both cocktails, providing a savory, umami flavor."}],
correctIndex:1},
{question:"The 'Long Island Iced Tea' and the 'Long Beach Iced Tea' are very similar. What is the one ingredient swap that differentiates them?",
options:[
{text:"Tequila is replaced with Gin.", feedback:"Both of these 'Iced Tea' cocktails contain the same five base spirits: Vodka, Gin, Rum, Tequila, and Triple Sec."},
{text:"Sweet & Sour is replaced with Lemon Juice.", feedback:"Both recipes call for Sweet & Sour mix as the primary citrus component before the final topper."},
{text:"Triple Sec is replaced with Blue Curacao", feedback:"Replacing Triple Sec with Blue Curacao and Sweet & Sour with a different mixer would create an 'Adios', not a Long Beach Iced Tea."},
{text:"Coke is replaced with Cranberry Juice.", feedback:"The Long Beach Iced Tea recipe substitutes the cola of the Long Island with cranberry juice, giving it a different color and a tarter flavor."}],
correctIndex:3},
{question:"The Last Word and the Bijou are classic cocktails that both feature which potent, herbal green liqueur?",
options:[
{text:"Absinthe", feedback:"Absinthe is used as a 'rinse' in drinks like the Corpse Reviver #2 and Sazerac, but it is not a main ingredient in the Last Word or Bijou."},
{text:"Creme de Menthe", feedback:"Green Creme de Menthe provides a strong mint flavor, which is characteristic of a Grasshopper, not a Last Word or Bijou."},
{text:"Green Chartreuse", feedback:"This complex French liqueur is a key ingredient in both cocktails, providing a distinctive herbal and slightly sweet character."},
{text:"Midori", feedback:"Midori is a sweet, melon-flavored liqueur and would not provide the complex herbal notes required for these classic cocktails."}],
correctIndex:2},
{question:"Which of the following coffee drinks combines Irish Cream with Frangelico for a nutty and creamy profile?",
options:[
{text:"Italian Coffee", feedback:"Italian Coffee achieves its nutty flavor from Amaretto (almond liqueur) paired with Brandy."},
{text:"Millionaire's Coffee", feedback:"A Millionaire's Coffee includes Irish Cream and Frangelico, but it also adds a coffee liqueur, making it a more complex drink."},
{text:"Keoke Coffee", feedback:"Keoke coffee combines Brandy with a coffee liqueur for its flavor profile."},
{text:"Nutty Irishman", feedback:"This drink's name directly reflects its ingredients: Irish Cream for the 'Irishman' and the hazelnut liqueur Frangelico for the 'Nutty' part."}],
correctIndex:3},
{question:"A Tom Collins, John Collins, and Sandy Collins are all part of the same drink family. They share sweet & sour mix and a soda water top, but differ in their base spirit. What spirit is used in a John Collins?",
options:[
{text:"Scotch", feedback:"Scotch is used as the base for a Sandy Collins."},
{text:"Vodka", feedback:"While a Vodka Collins is a common drink, it is not one of the traditionally named 'Collins' brothers listed in the source."},
{text:"Bourbon", feedback:"The John Collins specifically calls for bourbon as its base, distinguishing it from the gin-based Tom Collins."},
{text:"Gin", feedback:"Gin is the base for the Tom Collins, the most famous member of this cocktail family."}],
correctIndex:2},
{question:"Which of these cocktails requires an 'Absinthe rinse' to coat the glass before the other ingredients are added?",
options:[
{text:"Sazerac", feedback:"The Sazerac also famously uses an absinthe (or Pernod) rinse, but it is a whiskey-based cocktail, unlike the gin-based Corpse Reviver #2."},
{text:"Vieux Carre Cocktail", feedback:"This complex New Orleans cocktail contains many ingredients, including Benedictine and two types of bitters, but does not call for an absinthe rinse."},
{text:"Aviation Cocktail", feedback:"The Aviation gets its distinct flavor from Creme de Violette and Maraschino Liqueur, not an absinthe rinse."},
{text:"Corpse Reviver #2", feedback:"The subtle anise flavor from the Absinthe rinse is a crucial component that balances the citrus and botanicals in this classic cocktail."}],
correctIndex:3},
{question:"The Harvey Wallbanger and the Freddy Fudpucker are variations of the Screwdriver (vodka and orange juice). What liqueur is floated on top of both of these drinks?",
options:[
{text:"Grand Marnier", feedback:"Grand Marnier is an orange-flavored liqueur and is not the traditional float for these specific drinks."},
{text:"Galliano", feedback:"Floating Galliano, a sweet herbal liqueur, on top of a Screwdriver creates a Harvey Wallbanger. Doing the same with Tequila and OJ creates a Freddy Fudpucker."},
{text:"Amaretto", feedback:"Amaretto would add an almond flavor, creating a different cocktail entirely."},
{text:"Chambord", feedback:"Chambord is a raspberry liqueur, which is not used in either of these orange juice-based cocktails."}],
correctIndex:1},
{question:"Which of the following cocktails is prepared by layering Kahlua, Baileys, and Grand Marnier in a rocks glass?",
options:[
{text:"Brain Hemorrhage", feedback:"This layered drink uses Peach Schnapps and Baileys, with a dash of grenadine to create its unique appearance."},
{text:"Pousse Cafe", feedback:"A Pousse Cafe is a much more complex layered drink involving five or more different liqueurs and spirits."},
{text:"B-52", feedback:"The distinct three layers of coffee liqueur, Irish cream, and orange liqueur are the signature of the B-52."},
{text:"Mud Slide", feedback:"A Mud Slide uses Kahlua and Baileys, but the third ingredient is vodka, not Grand Marnier."}],
correctIndex:2},
{question:"A Ramos Fizz, Golden Fizz, and Silver Fizz are all classic gin cocktails. What ingredient is present in a Golden Fizz but absent in a Silver Fizz?",
options:[
{text:"Heavy Cream", feedback:"All three classic Fizz variations (Ramos, Golden, Silver) listed in the source contain heavy cream."},
{text:"Orange Flower Water", feedback:"Orange Flower Water is a distinctive ingredient in the Ramos Fizz, but not typically found in the Golden or Silver Fizz."},
{text:"Egg Yolk", feedback:"The Golden Fizz uses an egg yolk for richness and color, while the Silver Fizz uses only the egg white for texture."},
{text:"Egg White", feedback:"A Silver Fizz contains an egg white. The Golden Fizz contains the yolk, but the Royal Fizz contains the whole egg."}],
correctIndex:2},
{question:"The Paper Plane is a modern classic known for its equal-parts recipe. It contains Bourbon, Aperol, Lemon Juice, and what other Italian digestif?",
options:[
{text:"Amaro Nonino", feedback:"Amaro Nonino Quintessentia is the specific amaro required for a Paper Plane, providing notes of orange and caramel that balance the other ingredients."},
{text:"Sweet Vermouth", feedback:"Sweet vermouth is a fortified wine used in Manhattans and Negronis, but not in this cocktail."},
{text:"Campari", feedback:"Campari is a bitter aperitif used in drinks like the Negroni and Americano, not the Paper Plane."},
{text:"Fernet-Branca", feedback:"While a famous amaro, Fernet-Branca has a much more intense, minty, and medicinal flavor profile that is not used in a Paper Plane."}],
correctIndex:0},
{question:"Which two-ingredient cocktail consists of Scotch and Drambuie?",
options:[
{text:"Rusty Nail", feedback:"This classic cocktail is defined by the simple combination of Scotch whisky and the honey-and-herb-flavored Scotch liqueur, Drambuie."},
{text:"Blood and Sand", feedback:"The Blood and Sand is a more complex Scotch cocktail that also includes Sweet Vermouth, Orange Juice, and Cherry Heering."},
{text:"Godfather", feedback:"A Godfather pairs Scotch with the almond-flavored liqueur Amaretto."},
{text:"Rob Roy", feedback:"A Rob Roy is essentially a Scotch Manhattan, combining Scotch with Sweet Vermouth and bitters."}],
correctIndex:0},
{question:"The Side Car, Box Car, and Cable Car are all variations on a classic sour template. They all contain a base spirit, a citrus juice, and an orange liqueur. Which one uses Spiced Rum as its base?",
options:[
{text:"Side Car", feedback:"The classic Side Car is made with Cognac as its base spirit."},
{text:"Between the Sheets", feedback:"While similar in structure, this drink splits its base between Cognac and Rum."},
{text:"Box Car", feedback:"The Box Car uses Rum as its base, but not specifically spiced rum, and adds simple syrup."},
{text:"Cable Car", feedback:"The Cable Car specifically calls for Spiced Rum as its base, along with Orange Curacao and lemon juice, and is garnished with a cinnamon-sugar rim."}],
correctIndex:3},
{question:"Many cocktails use Kahlua, a coffee liqueur. Which of the following drinks does NOT contain Kahlua?",
options:[
{text:"Godfather", feedback:"A Godfather is a simple mix of Scotch and Amaretto, with no coffee flavor component."},
{text:"Mud Slide", feedback:"A Mud Slide is built on a base of Kahlua, Baileys, and Vodka."},
{text:"Colorado Bulldog", feedback:"This drink is essentially a White Russian topped with a splash of Coke, so it contains Kahlua."},
{text:"White Russian", feedback:"The White Russian is one of the most famous Kahlua cocktails, combining it with vodka and cream."}],
correctIndex:0},
{question:"The Mojito and the Southside are two refreshing cocktails that both feature which herb?",
options:[
{text:"Cilantro", feedback:"Cilantro offers a distinct, sometimes polarizing flavor that is not used in these widely popular drinks."},
{text:"Mint", feedback:"Both the rum-based Mojito and the gin-based Southside rely on muddled or shaken mint leaves for their characteristic fresh, aromatic flavor."},
{text:"Rosemary", feedback:"Rosemary provides a piney, savory note and is not a component of either the Mojito or the Southside."},
{text:"Basil", feedback:"Basil is used in some modern cocktails like a Gin Basil Smash, but not in these two classics."}],
correctIndex:1},
{question:"Which of these cocktails is a simple, two-ingredient drink made with Cognac and Amaretto?",
options:[
{text:"French Connection I", feedback:"The French Connection I, also known as a Beautiful, pairs Cognac with Grand Marnier."},
{text:"French Connection II", feedback:"The recipe list specifies the French Connection II as the version combining Cognac and Amaretto."},
{text:"Stinger", feedback:"A Stinger combines Brandy (a type of Cognac) with White Creme de Menthe."},
{text:"Side Car", feedback:"A Side Car is a more complex cognac drink that also includes an orange liqueur and lemon juice."}],
correctIndex:1},
{question:"What ingredient provides the unique red color and tart fruit flavor in a Sloe Comfortable Screw?",
options:[
{text:"Southern Comfort", feedback:"Southern Comfort provides the 'Comfortable' part of the name and its peach-whiskey flavor, but not the red color."},
{text:"Cranberry Juice", feedback:"The 'Screw' part of the name refers to the orange juice (from a Screwdriver); cranberry juice is not used."},
{text:"Grenadine", feedback:"While grenadine is a red syrup, it is not an ingredient in this specific drink."},
{text:"Sloe Gin", feedback:"Sloe Gin, a liqueur made from sloe berries, gives this drink its name ('Sloe'), distinctive flavor, and color."}],
correctIndex:3},
{question:"The Moscow Mule and the Dark and Stormy both get their characteristic spicy kick from what non-alcoholic mixer?",
options:[
{text:"Ginger Beer", feedback:"Spicy ginger beer is the essential mixer that gives both the vodka-based Moscow Mule and the dark rum-based Dark and Stormy their signature flavor."},
{text:"Tonic Water", feedback:"Tonic water has a bitter quinine flavor that is characteristic of a Gin and Tonic, not these cocktails."},
{text:"Ginger Ale", feedback:"Ginger ale is much sweeter and less spicy than ginger beer and would not provide the proper 'kick' for these cocktails."},
{text:"Soda Water", feedback:"Soda water adds carbonation but no flavor, and is used in drinks like the Collins or a Rickey."}],
correctIndex:0},
{question:"Which of the following egg white cocktails is built on a base of Pisco, a type of South American brandy?",
options:[
{text:"Clover Club", feedback:"The Clover Club is a gin-based sour that gets its flavor and color from raspberry syrup."},
{text:"Whiskey Sour (classic)", feedback:"The classic Whiskey Sour uses whiskey as its base spirit, though it shares the sour format and egg white."},
{text:"New York Sour", feedback:"A New York Sour is a whiskey sour that is garnished with a float of red wine, not built on Pisco."},
{text:"Pisco Sour", feedback:"This cocktail is the national drink of Peru and Chile and is defined by its use of Pisco as the base spirit, along with lime, simple syrup, and an egg white foam."}],
correctIndex:3},
{question:"The Grasshopper and the Peppermint Patty are both creamy, mint-chocolate flavored cocktails. What is the key difference between their ingredients?",
options:[
{text:"Grasshopper uses cream, while Peppermint Patty uses cream and soda.", feedback:"The Peppermint Patty uses only cream, but the Smith & Kern is the one that uses cream and soda."},
{text:"Grasshopper is shaken, while Peppermint Patty is built in the glass.", feedback:"The source material indicates the Grasshopper is shaken, but the Peppermint Patty is poured, which is a methodological difference, not an ingredient one."},
{text:"Grasshopper uses Green Creme de Menthe, while Peppermint Patty uses White.", feedback:"A Grasshopper uses Green Creme de Menthe for its iconic color, while the Peppermint Patty combines White Creme de Menthe with Dark Creme de Cacao."},
{text:"Grasshopper uses White Creme de Cacao, while Peppermint Patty uses Dark.", feedback:"This is part of the difference, but the type of Creme de Menthe is the more significant distinction, as both recipes use a Creme de Cacao."}],
correctIndex:2},
{question:"Which cocktail is made from equal parts Gin, Sweet Vermouth, and Green Chartreuse, plus a dash of orange bitters?",
options:[
{text:"Last Word", feedback:"The Last Word also uses gin and Green Chartreuse but combines them with Maraschino Liqueur and lime juice."},
{text:"Vieux Carre Cocktail", feedback:"This is a much more complex cocktail with six ingredients and does not follow a simple equal-parts formula."},
{text:"Bijou", feedback:"The name 'Bijou,' French for jewel, refers to the colors of its three main ingredients: diamond (gin), ruby (sweet vermouth), and emerald (Green Chartreuse)."},
{text:"Negroni", feedback:"A Negroni uses an equal-parts formula but with Gin, Sweet Vermouth, and Campari."}],
correctIndex:2},
{question:"A Tequila Sunrise gets its signature layered 'sunrise' effect from floating what ingredient on top of the tequila and orange juice?",
options:[
{text:"Creme de Cassis", feedback:"Creme de Cassis is a blackcurrant liqueur that is floated to make a Kir Royale, not a Tequila Sunrise."},
{text:"Galliano", feedback:"Galliano is floated on drinks like the Harvey Wallbanger, not a Tequila Sunrise."},
{text:"Dark Rum", feedback:"The dense grenadine syrup sinks through the orange juice, creating a gradient effect that resembles a sunrise."},
{text:"Grenadine", feedback:"The dense grenadine syrup sinks through the orange juice, creating a gradient effect that resembles a sunrise."}],
correctIndex:3},
{question:"Which of these bourbon cocktails combines the base spirit with grapefruit juice and raspberry syrup?",
options:[
{text:"Blinker", feedback:"The Blinker is a classic cocktail that features the unusual but balanced combination of bourbon (or rye), fresh grapefruit juice, and raspberry syrup."},
{text:"New York Sour", feedback:"This is a classic whiskey sour with a red wine float; it does not contain grapefruit or raspberry."},
{text:"Paper Plane", feedback:"A Paper Plane is a bourbon sour, but it gets its fruit and bitter notes from Aperol and Amaro Nonino, not grapefruit or raspberry."},
{text:"Ward Eight", feedback:"The Ward Eight is a rye-based sour that uses lemon juice and grenadine, not grapefruit and raspberry."}],
correctIndex:0},
{question:"The Adios and the Blue Hawaiian both get their vibrant blue color from which liqueur?",
options:[
{text:"Hpnotiq", feedback:"While blue, Hpnotiq is a specific brand of fruit liqueur not listed in the recipes for these classic drinks."},
{text:"Creme de Violette", feedback:"Creme de Violette imparts a purplish, floral character to drinks like the Aviation, not the bright blue of these tiki-style drinks."},
{text:"Midori", feedback:"Midori is a bright green, melon-flavored liqueur."},
{text:"Blue Curacao", feedback:"Blue Curacao is an orange-flavored liqueur colored blue, and it is the key ingredient for the color in both of these cocktails."}],
correctIndex:3},
{question:"Which of the following drinks is a combination of Crown Royal, Apple Pucker, and Cranberry juice?",
options:[
{text:"Apple Martini", feedback:"An Apple Martini uses Vodka and Apple Pucker, not Crown Royal, and typically contains sweet & sour rather than cranberry juice."},
{text:"Jack Rose", feedback:"A Jack Rose is made with Apple Jack (a type of apple brandy), not whiskey and apple pucker, and uses sweet & sour and grenadine."},
{text:"Washington Apple", feedback:"This popular shot or cocktail is defined by its simple three-part recipe of Canadian whisky, sour apple schnapps, and cranberry juice."},
{text:"Vegas Bomb", feedback:"A Vegas Bomb also contains Crown Royal but combines it with Peach Schnapps, Cranberry Juice, and Red Bull."}],
correctIndex:2},
{question:"The Penicillin cocktail features a base of blended Scotch, lemon, and a honey-ginger syrup. What is the final ingredient floated on top to give it a smoky aroma?",
options:[
{text:"Bourbon", feedback:"Bourbon would add sweetness and vanilla notes, which would clash with the intended smoky profile of the drink."},
{text:"Islay Scotch", feedback:"A float of heavily peated Islay Scotch is the signature finishing touch of the Penicillin, providing a distinct smoky and medicinal aroma."},
{text:"Drambuie", feedback:"Drambuie is a sweetened Scotch liqueur and would make the drink overly sweet, rather than adding the desired smoky finish."},
{text:"Angostura Bitters", feedback:"While bitters are floated on some drinks (like a Pisco Sour), they are not the key aromatic component of a Penicillin."}],
correctIndex:1},
{question:"What are the three spirits that make up the drink known as the 'Three Wise Men'?",
options:[
{text:"Crown Royal, Amaretto, Baileys", feedback:"This combination of spirits and liqueurs forms the base of a Muscle Relaxer (or Duck Fart)."},
{text:"Jim Beam, Jack Daniel's, Johnny Walker", feedback:"This potent shot is famously made by combining three specific brands of whiskey: an American bourbon, a Tennessee whiskey, and a Scotch whisky."},
{text:"Kahlua, Baileys, Grand Marnier", feedback:"These three liqueurs are layered to create a B-52."},
{text:"Vodka, Gin, Rum", feedback:"These are three of the five white spirits found in a Long Island Iced Tea, not the Three Wise Men."}],
correctIndex:1},
{question:"A classic Daiquiri is a simple and elegant cocktail. Besides Rum, what are the other two essential ingredients?",
options:[
{text:"Sweet Vermouth and Grenadine", feedback:"The addition of Sweet Vermouth, Grenadine, and Creme de Cacao would create an El Floridita, a more complex Daiquiri variation."},
{text:"Pineapple Juice and Coconut Cream", feedback:"These ingredients are characteristic of a Pina Colada, not a classic Daiquiri."},
{text:"Lime Juice and Simple Syrup", feedback:"The classic Daiquiri adheres to the fundamental sour formula: spirit (rum), citrus (lime juice), and sweetener (simple syrup)."},
{text:"Lime Juice and Maraschino Liqueur", feedback:"Adding Maraschino Liqueur (and often grapefruit juice) would transform the drink into a Hemingway Daiquiri."}],
correctIndex:2}
    ];

    let currentIndex=0,score=0;
    const shuffledQuestions = questions
  .sort(() => Math.random() - 0.5)
  .map(q => ({
    ...q,
    shuffledOptions: q.options
      .map((opt, i) => ({ ...opt, originalIndex: i }))
      .sort(() => Math.random() - 0.5)
  }));

    const correctSound = new Audio("sounds/correct-answer.mp3");
    const wrongSound   = new Audio("sounds/wrong-answer.wav");
    const questionText=document.getElementById('questionText');
    const optionsContainer=document.getElementById('optionsContainer');
    const card=document.getElementById('quizCard');
    const cardInner=document.getElementById('cardInner');
    const backQuestionText=document.getElementById('backQuestionText');
    const chosenAnswerEl=document.getElementById('chosenAnswer');
    const feedbackText=document.getElementById('feedbackText');
    const correctAnswerLine=document.getElementById('correctAnswerLine');
    const nextBtn=document.getElementById('nextBtn');
    const prevBtn=document.getElementById('prevBtn');
    const progressText=document.getElementById('progressText');
    const scoreText=document.getElementById('scoreText');

    function speak(text){
      window.speechSynthesis.cancel();
      const u=new SpeechSynthesisUtterance(text);
      u.lang="en-US";
      window.speechSynthesis.speak(u);
    }

    function updateStatus(){
      progressText.textContent=`Question ${currentIndex+1} of ${shuffledQuestions.length}`;
      scoreText.textContent=`Score: ${score}`;
    }

    function updateNavigationButtons() {
  const q = shuffledQuestions[currentIndex];

  // üîí Disable navigation at boundaries
  nextBtn.disabled = currentIndex === shuffledQuestions.length - 1;
  prevBtn.disabled = currentIndex === 0;

  // üéØ If this is the last question AND it's answered ‚Üí show "See Results" in place of Next
  if (currentIndex === shuffledQuestions.length - 1 && q.userChoice !== undefined) {
    nextBtn.style.visibility = "hidden";
    resultsBtn.style.visibility = "visible";
  } else {
    nextBtn.style.visibility = "visible";
    resultsBtn.style.visibility = "hidden";
  }
}



    function renderQuestion(forceFront = true){
  console.log("%c[Render start]", "color: cyan",
    "index:", currentIndex,
    "| flipped?", cardInner.classList.contains("flipped"),
    "| inline transform:", cardInner.style.transform);

  const q = shuffledQuestions[currentIndex];
  questionText.textContent = q.question;
  questionText.onclick = () => speak(q.question);
  optionsContainer.innerHTML = "";

  // ‚úÖ Use the pre-shuffled options created at load time
  q.shuffledOptions.forEach((opt) => {
    const b = document.createElement("button");
    b.classList.add("option-btn");
    b.textContent = opt.text;
    b.onclick = () => {
  // Speak the option aloud
  window.speechSynthesis.cancel();
  const utterance = new SpeechSynthesisUtterance(opt.text);
  utterance.lang = "en-US";

  // After pronunciation finishes, THEN run the logic
  utterance.onend = () => {
    selectAnswer(opt.originalIndex);
  };

  window.speechSynthesis.speak(utterance);
};

    optionsContainer.appendChild(b);
  });

  // ‚úÖ If already answered, restore back side (with delay for smoother feel)
  if (q.userChoice !== undefined) {
    console.log("[Render] restoring previous answer");
    setTimeout(() => displayBack(q), 200);
  } else if (forceFront) {
    cardInner.classList.remove("flipped");
    cardInner.style.removeProperty("transform"); // ensure no leftover rotation
  }

  correctAnswerLine.style.display = "none";
  updateStatus();

  // üîí Disable navigation at edges
  nextBtn.disabled = currentIndex === shuffledQuestions.length - 1;
  prevBtn.disabled = currentIndex === 0;
  updateNavigationButtons();
  console.log("%c[Render end]", "color: lightgreen",
    "index:", currentIndex,
    "| flipped?", cardInner.classList.contains("flipped"),
    "| inline transform:", cardInner.style.transform);
}


    function displayBack(q) {
  const idx = q.userChoice;
  backQuestionText.textContent = q.question;
  backQuestionText.onclick = () => speak(q.question);

  chosenAnswerEl.textContent = `Your answer: ${q.options[idx].text}`;
  chosenAnswerEl.onclick = () => speak(q.options[idx].text);

  feedbackText.textContent = q.options[idx].feedback;
  feedbackText.className = idx === q.correctIndex ? "correct" : "incorrect";
  feedbackText.onclick = () => speak(q.options[idx].feedback);
  resultsBtn.onclick = () => {
  const total = shuffledQuestions.length;
  const unanswered = shuffledQuestions.filter(q => q.userChoice === undefined).length;
  const query = `results.html?score=${score}&total=${total}&unanswered=${unanswered}`;
  window.location.href = query;
};


  if (idx !== q.correctIndex) {
    const right = q.options[q.correctIndex];
    correctAnswerLine.style.display = "block";
    correctAnswerLine.textContent = `Correct answer: ${right.text} ‚Äî ${right.feedback}`;
    correctAnswerLine.onclick = () => speak(`${right.text}. ${right.feedback}`);
  } else {
    correctAnswerLine.style.display = "none";
    correctAnswerLine.textContent = "";
    correctAnswerLine.onclick = null;
  }

  cardInner.classList.add("flipped");
}



    function selectAnswer(idx){
  const q = shuffledQuestions[currentIndex];
  const isFirstAttempt = q.userChoice === undefined;
  q.userChoice = idx; // ‚úÖ remember choice

  // üîä play sound feedback
  if (idx === q.correctIndex) {
    correctSound.currentTime = 0;
    correctSound.play();
  } else {
    wrongSound.currentTime = 0;
    wrongSound.play();
  }

  // update the back view
  displayBack(q);

  // score only once for correct first-time answers
  if (isFirstAttempt && idx === q.correctIndex){
    score++;
    updateStatus();
  }
  updateNavigationButtons();

}


    nextBtn.onclick=()=>moveTo("next");
    prevBtn.onclick=()=>moveTo("prev");

    function moveTo(dir){
      const old = currentIndex;
      if (dir === "next" && currentIndex < shuffledQuestions.length - 1) currentIndex++;
      else if (dir === "prev" && currentIndex > 0) currentIndex--;
      else return;
      console.log(`[Nav] moveTo ${dir}: ${old} -> ${currentIndex}`);
      renderQuestion(true);
    }

    function setSwipeTransform(x){
      const isFlipped = cardInner.classList.contains("flipped");
      const value = isFlipped ? `translateX(${x}px) rotateY(180deg)` : `translateX(${x}px)`;
      cardInner.style.transform = value;
    }

    function clearSwipeTransformPreservingFlip(){
      const isFlipped = cardInner.classList.contains("flipped");
      if(isFlipped) cardInner.style.transform = "rotateY(180deg)";
      else cardInner.style.removeProperty("transform");
    }

    // --- Swipe with animation ---
    let startX=null,deltaX=0,swiping=false,isSwiping=false;
    const SWIPE_THRESHOLD=120,TAP_THRESHOLD=30;

    card.addEventListener("touchstart",e=>{
      startX=e.touches[0].clientX;
      cardInner.style.transition="none";
      swiping=true;isSwiping=false;
    });

    card.addEventListener("touchmove",e=>{
      if(!swiping) return;
      deltaX=e.touches[0].clientX-startX;
      if(Math.abs(deltaX)>TAP_THRESHOLD){
        isSwiping=true;
        setSwipeTransform(deltaX);
      }
    });

    card.addEventListener("touchend",()=>{
      if(!swiping) return;
      swiping=false;

      if (isSwiping && Math.abs(deltaX) > SWIPE_THRESHOLD) {
        const dir = deltaX > 0 ? "right" : "left";
        console.log("%c[Swipe] SWIPE", "color: violet", dir, " deltaX:", deltaX);
        cardInner.style.transition = "transform 0.4s ease";
        setSwipeTransform(dir === "right" ? 400 : -400);

        cardInner.addEventListener("transitionend", function handleSwipeEnd() {
          cardInner.removeEventListener("transitionend", handleSwipeEnd);
          if (dir === "right" && currentIndex > 0) currentIndex--;
          else if (dir === "left" && currentIndex < shuffledQuestions.length - 1) currentIndex++;
          else {
            console.log("%c[Swipe] cancelled or boundary reached", "color: orange");
            console.log("   before clear ‚Üí flipped?", cardInner.classList.contains("flipped"),
                        "| inline transform:", cardInner.style.transform);
            clearSwipeTransformPreservingFlip();
            console.log("   after clear  ‚Üí flipped?", cardInner.classList.contains("flipped"),
                        "| inline transform:", cardInner.style.transform);
            return;
          }

          renderQuestion(true);

          cardInner.style.transition = "none";
          cardInner.style.transform = `translateX(${dir === "right" ? "-100%" : "100%"})`;
          requestAnimationFrame(() => {
            requestAnimationFrame(() => {
              cardInner.style.transition = "transform 0.4s ease";
              cardInner.style.removeProperty("transform");
            });
          });
        }, { once: true });
      } else {
        console.log("%c[Swipe] cancelled or boundary reached", "color: orange");
        console.log("   before clear ‚Üí flipped?", cardInner.classList.contains("flipped"),
                    "| inline transform:", cardInner.style.transform);
        clearSwipeTransformPreservingFlip();
        console.log("   after clear  ‚Üí flipped?", cardInner.classList.contains("flipped"),
                    "| inline transform:", cardInner.style.transform);
      }
      startX=null;deltaX=0;isSwiping=false;
    });

    renderQuestion(true);
  </script>
</body>
</html>
